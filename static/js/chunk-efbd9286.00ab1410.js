(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-efbd9286"],{"067c":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"flex lg12"},[i("va-card",{attrs:{stripe:"info"}},[i("template",{slot:"header"},[i("va-icon",{attrs:{name:"fa fa-suitcase mr-3",color:"info"}}),i("h4",{staticClass:"mt-0 mb-0"},[t._v(" Company List ")]),i("va-button",{staticStyle:{"margin-left":"80%","margin-top":"2%"},attrs:{small:"",outline:""},on:{click:t.click_add}},[t._v(" Add Company ")])],1),i("div",{staticClass:"container"},t._l(t.company_list.slice((t.activePage-1)*t.pageSize,t.activePage*t.pageSize),(function(e){return i("div",{key:e.manId,staticClass:"container_item"},[i("cube-item",{attrs:{img_url:e.imageUrl,img_title:e.nameEn,img_intro:e.description,type:"company",cube_id:e.manId,usr_id:"1"},on:{remove:t.remove}})],1)})),0),i("div",{staticClass:"pagination"},[i("va-pagination",{attrs:{pages:t.totalPage,"visible-pages":3,"boundary-links":!1},model:{value:t.activePage,callback:function(e){t.activePage=e},expression:"activePage"}})],1)],2)],1),i("va-modal",{attrs:{size:"large",title:" Add New Product",okText:" Add Company ",cancelText:t.$t("modal.cancel")},on:{ok:t.onOk},model:{value:t.showAddCompany,callback:function(e){t.showAddCompany=e},expression:"showAddCompany"}},[t._t("default",[i("div",{staticClass:"layout gutter--md fluid"},[i("div",{staticClass:"row"},[i("div",{staticClass:"flex lg6"},[i("va-input",{attrs:{type:"text",label:"Company Name (English)",error:!!t.nameEnErrors.length,"error-messages":t.nameEnErrors},model:{value:t.add_company.nameEn,callback:function(e){t.$set(t.add_company,"nameEn",e)},expression:"add_company.nameEn"}})],1),i("div",{staticClass:"flex lg6"},[i("va-input",{attrs:{type:"text",label:"Company Name (Chinese)",error:!!t.nameCnErrors.length,"error-messages":t.nameCnErrors},model:{value:t.add_company.nameCn,callback:function(e){t.$set(t.add_company,"nameCn",e)},expression:"add_company.nameCn"}})],1)])]),i("div",{staticClass:"layout gutter--md fluid"},[i("div",{staticClass:"row"},[i("div",{staticClass:"flex lg6"},[i("va-select",{attrs:{label:"Gmc type",textBy:"description",options:t.typeOptions},model:{value:t.add_company.gmcType,callback:function(e){t.$set(t.add_company,"gmcType",e)},expression:"add_company.gmcType"}})],1),i("div",{staticClass:"flex lg6"},[i("va-input",{attrs:{type:"text",label:"GMC url",error:!!t.gmcUrlErrors.length,"error-messages":t.gmcUrlErrors},model:{value:t.add_company.gmcUrl,callback:function(e){t.$set(t.add_company,"gmcUrl",e)},expression:"add_company.gmcUrl"}})],1)])]),i("div",{staticClass:"layout gutter--md fluid"},[i("div",{staticClass:"row"},[i("div",{staticClass:"flex lg12"},[i("va-file-upload",{attrs:{type:"single",dropzone:""},model:{value:t.imgArr,callback:function(e){t.imgArr=e},expression:"imgArr"}})],1)])]),i("div",{staticClass:"layout gutter--md fluid"},[i("div",{staticClass:"row"},[i("div",{staticClass:"flex lg12"},[i("va-input",{attrs:{type:"textarea",label:"Description",error:!!t.descriptionErrors.length,"error-messages":t.descriptionErrors},model:{value:t.add_company.description,callback:function(e){t.$set(t.add_company,"description",e)},expression:"add_company.description"}})],1)])])])],2)],1)},r=[],a=i("6900"),n=i("7522"),s=i("4360"),l={name:"mvo-main",components:{cubeItem:a["a"]},store:s["a"],data:function(){return{imgArr:[],imgForm:new FormData,imgUrl:"",activePage:1,pageSize:10,showAddCompany:!1,typeOptions:[{id:1,description:"TÜV"},{id:2,description:"UL"}],add_company:{userId:"",nameEn:"",nameCn:"",description:"",gmcType:{id:1,description:"TÜV"},gmcUrl:""},nameEnErrors:[],nameCnErrors:[],descriptionErrors:[],gmcTypeErrors:[],gmcUrlErrors:[],company_list:null,fake_data:[]}},computed:{formReady:function(){return!this.nameEnErrors.length&&!this.nameCnErrors.length&&!this.descriptionErrors.length&&!this.gmcTypeErrors.length&&!this.gmcUrlErrors.length}},watch:{imgArr:{handler:function(t,e){if(console.log(t),0!==t.length){var i=t.length-1,o=t[i].name,r=o.split("."),a=r[r.length-1];if(a=a.toLowerCase(),"png"===a||"jpg"===a||"jpeg"===a){console.log(o);var n=new FormData;n.append("file",t[i]),this.imgForm=n}else console.log(a),this.showToast("file is not an image, please choose an image file",{icon:"fa-exclamation",position:"top-right",duration:2500,fullWidth:!1}),this.imgArr=[]}},deep:!0}},methods:{remove:function(t){for(var e=0;e<this.company_list.length;e++)this.company_list[e].manId+""===t+""&&this.company_list.splice(e,1)},click_add:function(){this.showAddCompany=!0},onOk:function(){var t=this;this.add_company.gmcType=this.add_company.gmcType.id,this.add_company.userId=this.$store.state.mvo.userId,this.nameEnErrors=this.add_company.nameEn?[]:"nameEn is required",this.nameCnErrors=this.add_company.nameCn?[]:"nameCn is required",this.descriptionErrors=this.add_company.description?[]:"description is required",this.gmcTypeErrors=this.add_company.gmcType?[]:"gmcType is required",this.gmcUrlErrors=this.add_company.gmcUrl?[]:"gmcUrl is required",this.formReady?(console.log(this.add_company),this.showAddCompany=!1,Object(n["b"])(this,this.add_company).then((function(e){console.log(e);var i=e.data.data.manId;t.imgForm.append("manId",i),Object(n["y"])(t,t.imgForm).then((function(e){console.log(e),t.add_company["manId"]=i,t.add_company["imageUrl"]=e.data.data,t.company_list.push(t.add_company)}))}))):this.showAddCompany=!0}},created:function(){var t=this;console.log(this.$store.state.mvo),Object(n["n"])(this,{userId:this.$store.state.mvo.userId}).then((function(e){console.log(123),console.log(e),console.log(123),t.company_list=e.data.data}))}},c=l,d=(i("3795"),i("2877")),u=Object(d["a"])(c,o,r,!1,null,"01d14f9d",null);e["default"]=u.exports},3332:function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row",staticStyle:{width:"600px"}},[i("div",{staticClass:"container__image flex xs12 md5"},[i("img",{staticClass:"img",staticStyle:{width:"100%",height:"70%"},attrs:{src:t.img_url,alt:"Product Image"}})]),i("div",{staticClass:"container__text flex xs12 md6 offset--md1"},[i("va-card",{attrs:{stripe:"info"}},[i("template",{staticClass:"py-2",slot:"header"},[i("va-icon",{staticClass:"right-space",attrs:{name:"fa fa-shopping-cart",color:"info"}}),i("h5",{staticClass:"mt-0 mb-0"},[t._v(t._s(t.name))])],1),i("va-badge",{staticClass:"mb-2 py-1 badge",attrs:{color:"dark",outline:""}},[t._v("Sku cd: "+t._s(t.skuCd))]),i("va-badge",{staticClass:"mb-2 py-1 badge",attrs:{color:"dark",outline:""}},[t._v("Model: "+t._s(t.model))]),i("br"),i("span",{staticClass:"small-title"},[t._v("Basic information")]),t._v(" "),i("br"),i("span",{staticClass:"right-space"},[i("label",{staticClass:"labels"},[t._v("RetailPrice: ")]),i("span",{staticClass:"text--highlighted"},[t._v("$"+t._s(t.minRetailPrice))])]),i("label",{staticClass:"labels"}),t._v("["),i("s",[t._v("$"+t._s(t.retailPrice))]),t._v("] "),i("br"),i("label",{staticClass:"labels"},[t._v("Size: ")]),t._v(t._s(t.width)+" × "+t._s(t.height)),i("br"),i("label",{staticClass:"labels"},[t._v("Weight: ")]),t._v(t._s(t.weight)),i("br"),i("hr"),i("span",{staticClass:"small-title"},[t._v("Other information")]),t._v(" "),i("br"),i("label",{staticClass:"labels"},[t._v("ReplenishmentPeriod: ")]),t._v(t._s(t.replenishmentPeriod)),i("br"),i("label",{staticClass:"labels"},[t._v("WarrantyDay: ")]),t._v(t._s(t.warrantyDay)),i("br"),i("label",{staticClass:"labels"},[t._v("Warranty: ")]),t._v(t._s(t.warranty)),i("br"),t.is_show?i("div",[i("hr"),i("label",{staticClass:"labels"},[t._v("Numbers you want: ")]),i("va-input",{staticClass:"input",attrs:{placeholder:"Type a integer...",error:!t.is_number,"error-messages":"Please enter an integer number!"},model:{value:t.num_pro,callback:function(e){t.num_pro=e},expression:"num_pro"}}),i("div",{staticClass:"row"},[i("div",{staticClass:"flex lg5 offset--md2"},[i("va-button",{staticClass:"flex lg7 offset--lg5",attrs:{small:"",flat:"",color:"gray"},on:{click:t.cancel}},[t._v(" Cancel ")])],1),i("div",{staticClass:"flex lg5"},[i("va-button",{attrs:{small:""},on:{click:t.addOrder}},[t._v(" Order me! ")])],1)])],1):t._e()],2)],1)])},r=[],a=i("7522"),n={name:"product-detail",props:{usr_id:Number,role:String,product_detail:Object},data:function(){return{pro_id:this.product_detail.pro_id,img_url:this.product_detail.image_url,name:this.product_detail.NAME,skuCd:this.product_detail.sku_cd,model:this.product_detail.model,width:this.product_detail.width,height:this.product_detail.height,weight:this.product_detail.weight,retailPrice:this.product_detail.retail_price,minRetailPrice:this.product_detail.min_retail_price,warrantyDay:this.product_detail.warranty_day,replenishmentPeriod:this.product_detail.replenishment_period,warranty:this.product_detail.warranty,num_pro:null,is_number:!0}},computed:{is_show:function(){return"bvo"===this.role}},methods:{addOrder:function(){this.is_number=!0,this.num_pro%1!==0||null===this.num_pro?this.is_number=!1:(console.log(123),this.showToast("You have ordered this product! \n You can see it in the order management page.",{theme:"info",icon:"fa-cart-plus",position:"top-right",duration:2500,fullWidth:!1}),this.$emit("close",null),this.num_pro=null,Object(a["e"])(this,{dsrId:this.usr_id,proId:this.pro_id,productAmount:this.num_pro}).then((function(t){console.log(t)})))},cancel:function(){this.$emit("close",null)}}},s=n,l=(i("8760"),i("2877")),c=Object(l["a"])(s,o,r,!1,null,"a4ad18f0",null);e["a"]=c.exports},3795:function(t,e,i){"use strict";var o=i("417f"),r=i.n(o);r.a},"417f":function(t,e,i){},"65d5":function(t,e,i){},6900:function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.is_remove?t._e():i("div",{staticClass:"container"},[i("div",{staticClass:"product",on:{mouseover:t.mouseover,mouseout:t.mouseout,click:t.see_detail}},[t.is_product?t._e():i("div",{directives:[{name:"show",rawName:"v-show",value:t.ishover,expression:"ishover"}],staticClass:"removeIcon",on:{click:function(e){return e.stopPropagation(),t.remove(e)}}},[i("va-button",{attrs:{small:"",icon:"ion-md-close ion"}})],1),i("va-card",{attrs:{image:t.img_url}},[i("template",{slot:"header"},[i("h5",{staticClass:"mt-0 mb-0 title"},[t._v(t._s(t.img_title))]),t.is_product?i("div",{on:{click:function(e){return e.stopPropagation(),t.like_(e)}}},[t.dislike?i("va-icon",{staticClass:"like",attrs:{name:"fa fa-heart-o",color:"pink"}}):t._e(),t.like_icon?i("va-icon",{staticClass:"like",attrs:{name:"fa fa-heart",color:"pink"}}):t._e()],1):t._e()]),t._v(" "+t._s(t.img_intro)+" ")],2)],1)]),i("va-modal",{attrs:{size:"large",title:" Product Detail Information",hideDefaultActions:"true",okText:t.$t("modal.confirm"),cancelText:t.$t("modal.cancel")},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[t._t("default",[i("product-detail",{attrs:{product_detail:t.product_detail,usr_id:t.usr_id,role:"bvo"},on:{close:t.close}})])],2),i("va-modal",{attrs:{size:"small",title:"Remove Confirmation",message:"Are you sure to remove?",okText:t.$t("modal.confirm"),cancelText:t.$t("modal.cancel")},on:{ok:t.confirmRemove},model:{value:t.remove_confirm,callback:function(e){t.remove_confirm=e},expression:"remove_confirm"}})],1)},r=[],a=i("3332"),n=i("7522"),s={name:"cube-item",components:{ProductDetail:a["a"]},props:{img_url:String,img_title:String,img_intro:String,usr_id:Number,cube_id:Number,type:String},computed:{is_product:function(){return"product"===this.type}},data:function(){return{is_like:!1,like_icon:!1,dislike:!0,isVisible:!1,toastText:!1,showModal:!1,product_detail:{},is_remove:!1,ishover:!1,remove_confirm:!1}},methods:{like_:function(){this.is_like=!this.is_like,!0===this.is_like?(this.like_icon=!0,this.dislike=!1,this.showToast("You have starred this product! \n You can see it in the waillist.",{theme:"info",icon:"fa-heart",position:"top-right",duration:1500,fullWidth:!1}),Object(n["d"])(this,{dsrId:this.usr_id,proId:this.cube_id}).then((function(t){console.log(t)}))):(this.like_icon=!1,this.dislike=!0)},see_detail:function(){var t=this;if("product"===this.type)this.product_detail={pro_id:this.cube_id,imageUrl:"https://picsum.photos/300/200/?image=1043",name:"fengjinghua",skuCd:"1e212312321232",model:"V2",width:1,height:2,length:3,weight:10,retailPrice:12,minRetailPrice:10,warrantyDay:60,replenishmentPeriod:10,warranty:"Never Never Never Never Never Never Never "},console.log(this.product_detail),this.showModal=!0,Object(n["q"])(this,{proId:this.cube_id}).then((function(e){console.log(e),t.product_detail=e.data}));else if("company"===this.type){for(var e=this.$store.state.user.permissions,i=0;i<e.length;i++)if(1==Number(e[i].permissionId))return this.$store.commit("changeCompanyID",this.cube_id),void this.$router.push({name:"company-detail"});this.showToast("sorry, you have no authority to visit",{icon:"fa-exclamation",position:"top-right",duration:2500,fullWidth:!1})}else if("brand"===this.type){for(e=this.$store.state.user.permissions,i=0;i<e.length;i++)if(2==Number(e[i].permissionId))return this.$store.commit("changeBrandID",this.cube_id),void this.$router.push({name:"brand-detail"});this.showToast("sorry, you have no authority to visit",{icon:"fa-exclamation",position:"top-right",duration:2500,fullWidth:!1})}else"store"===this.type?this.$router.push({name:"brand-detail"}):console.log(">> Error: the prop of cube_id should be product, company, brand or store!")},mouseover:function(){this.ishover=!0},mouseout:function(){this.ishover=!1},remove:function(){this.remove_confirm=!0},confirmRemove:function(){this.remove_confirm=!1,this.is_remove=!0,this.$emit("remove",this.cube_id),"company"===this.type?Object(n["i"])(this,{manId:this.cube_id}).then((function(t){console.log(t)})):"brand"===this.type?Object(n["h"])(this,{brdId:this.cube_id}).then((function(t){console.log(t)})):"store"===this.type||console.log(">> Error: the prop of cube_id should be product, company, brand or store!")},close:function(t){this.showModal=!1}}},l=s,c=(i("a127"),i("2877")),d=Object(c["a"])(l,o,r,!1,null,"672d219b",null);e["a"]=d.exports},7522:function(t,e,i){"use strict";i.d(e,"u",(function(){return n})),i.d(e,"m",(function(){return s})),i.d(e,"t",(function(){return l})),i.d(e,"v",(function(){return c})),i.d(e,"d",(function(){return d})),i.d(e,"q",(function(){return u})),i.d(e,"e",(function(){return m})),i.d(e,"r",(function(){return p})),i.d(e,"s",(function(){return h})),i.d(e,"j",(function(){return f})),i.d(e,"g",(function(){return g})),i.d(e,"c",(function(){return _})),i.d(e,"k",(function(){return v})),i.d(e,"o",(function(){return y})),i.d(e,"w",(function(){return b})),i.d(e,"f",(function(){return C})),i.d(e,"i",(function(){return k})),i.d(e,"h",(function(){return w})),i.d(e,"a",(function(){return $})),i.d(e,"b",(function(){return x})),i.d(e,"n",(function(){return E})),i.d(e,"l",(function(){return I})),i.d(e,"z",(function(){return T})),i.d(e,"y",(function(){return P})),i.d(e,"x",(function(){return A})),i.d(e,"p",(function(){return U}));var o="39.106.57.246",r="4396",a="http://"+o+":"+r;function n(t,e){return console.log(t.$http.post(a+"/user/login",e)),t.$http.post(a+"/user/login",e)}function s(t){return t.$http.get(a+"/user/code",{responseType:"arraybuffer"})}function l(t,e){return t.tokenGet.post(a+"/oauth/token",e)}function c(t,e){return t.$http.post(a+"/user/register",e)}function d(t,e){return t.$http.post(a+"/pro/bvo/wishlist/add",e)}function u(t,e){return t.$http.get(a+"/pro/mvo/product/detail/get",{params:e})}function m(t,e){return t.$http.post(a+"/order/product/buy",e)}function p(t,e){return t.$http.get(a+"/pro/mvo/product/get",{params:e})}function h(t,e){return t.$http.get(a+"/pro/mvo/product/all",{params:e})}function f(t,e){return t.$http.post(a+"/pro/mvo/product/delete",e)}function g(t,e){return t.$http.post(a+"/pro/mvo/product/status/update",e)}function _(t,e){return t.$http.post(a+"/pro/mvo/product/add",e)}function v(t,e){return t.$http.post(a+"/pro/mvo/product/detail/update",e)}function y(t,e){return t.$http.get(a+"/order/info/get",{params:e})}function b(t,e){return t.$http.post(a+"/order/ship",e)}function C(t,e){return t.$http.post(a+"/order/ship/cancel",e)}function k(t,e){return t.$http.post(a+"/info/company/delete",e)}function w(t,e){return t.$http.post(a+"/info/brand/delete",e)}function $(t,e){return t.$http.post(a+"/info/brand/add",e)}function x(t,e){return t.$http.post(a+"/info/company/add",e)}function E(t,e){return console.log(t.$http.get(a+"/info/company/get",{params:e})),t.$http.get(a+"/info/company/get",{params:e})}function I(t,e){return t.$http.get(a+"/info/brand/get",{params:e})}function T(t,e){return t.imageUpload.defaults.headers.Authorization="Bearer "+localStorage.token,t.imageUpload.post(a+"/pro/mvo/product/image/upload",e)}function P(t,e){return t.imageUpload.defaults.headers.Authorization="Bearer "+localStorage.token,t.imageUpload.post(a+"/info/company/image/upload",e)}function A(t,e){return t.imageUpload.defaults.headers.Authorization="Bearer "+localStorage.token,t.imageUpload.post(a+"/info/brand/image/upload",e)}function U(t,e){return t.$http.get(a+"/info/brand/getAllByUserId",{params:e})}},8760:function(t,e,i){"use strict";var o=i("e817"),r=i.n(o);r.a},a127:function(t,e,i){"use strict";var o=i("65d5"),r=i.n(o);r.a},e817:function(t,e,i){}}]);
//# sourceMappingURL=chunk-efbd9286.00ab1410.js.map