{"version":3,"sources":["webpack:///./src/api/wallet.js","webpack:///./src/views/wallet/auth/login/Login.vue?5bb9","webpack:///src/views/wallet/auth/login/Login.vue","webpack:///./src/views/wallet/auth/login/Login.vue?573b","webpack:///./src/views/wallet/auth/login/Login.vue?181f","webpack:///./src/views/wallet/auth/login/Login.vue?7dad"],"names":["ip","port","base_url","login","obj","data","$http","post","register","getBasicInfo","get","params","getTransaction","editBasicInfo","recharge","withdraw","payInWallet","render","_vm","this","_h","$createElement","_c","_self","on","$event","preventDefault","onsubmit","attrs","usrErrors","length","model","value","callback","$$v","username","expression","$t","passwordErrors","password","staticClass","keepLoggedIn","name","_v","_s","staticRenderFns","component"],"mappings":"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","file":"static/js/chunk-df41cc96.315384f5.js","sourcesContent":["/*\n* Author: Yue Yang\n* Module: Wallet\n* */\n\nlet ip = '39.106.57.246';\nlet port = '4396';\nlet base_url = 'http://' + ip + ':' + port;\n\n// Login\nexport function login(obj, data) {\n  return obj.$http.post(base_url + '/wallet/login', data)\n}\n\n// Register wallet\nexport function register(obj, data) {\n  return obj.$http.post(base_url + '/wallet/register', data)\n}\n\n// Get wallet basic information\nexport function getBasicInfo(obj, data) {\n  return obj.$http.get(base_url + '/wallet/info/get', {\n    params: data\n  })\n}\n\n// Get all transactions\nexport function getTransaction(obj, data) {\n  return obj.$http.get(base_url + '/wallet/transaction', {\n    params: data\n  })\n}\n\n// Edit wallet\nexport function editBasicInfo(obj, data) {\n  return obj.$http.post(base_url + '/wallet/info/update', data)\n}\n\n// recharge\nexport function recharge(obj, data) {\n  return obj.$http.post(base_url + '/wallet/recharge', data)\n}\n\n// withdraw\nexport function withdraw(obj, data) {\n  return obj.$http.post(base_url + '/wallet/withdraw', data)\n}\n\n/*\npay\ndata : {saoId : xx,\n        walletId : xx\n       }\n */\n\nexport function payInWallet(obj,data){\n  return obj.$http.post(base_url + '/order/pay ', data)\n}\n\nexport function rechargeWallet(obj,data){\n  return obj.$http.post(base_url + \"/wallet/recharge\", data)\n}\n\nexport function withdrawWallet(obj,data){\n  return obj.$http.post(base_url + \"/wallet/withdraw\", data)\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onsubmit($event)}}},[_c('va-input',{attrs:{\"type\":\"text\",\"label\":\"username\",\"error\":!!_vm.usrErrors.length,\"error-messages\":_vm.usrErrors},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('va-input',{attrs:{\"type\":\"password\",\"label\":_vm.$t('auth.password'),\"error\":!!_vm.passwordErrors.length,\"error-messages\":_vm.passwordErrors},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('div',{staticClass:\"auth-layout__options d-flex align--center justify--space-between\"},[_c('va-checkbox',{staticClass:\"mb-0\",attrs:{\"label\":_vm.$t('auth.keep_logged_in')},model:{value:(_vm.keepLoggedIn),callback:function ($$v) {_vm.keepLoggedIn=$$v},expression:\"keepLoggedIn\"}}),_c('router-link',{staticClass:\"ml-1 link\",attrs:{\"to\":{name: 'recover-password'}}},[_vm._v(_vm._s(_vm.$t('auth.recover_password')))])],1),_c('div',{staticClass:\"d-flex justify--center mt-3\"},[_c('va-button',{staticClass:\"my-0\",attrs:{\"type\":\"submit\"}},[_vm._v(_vm._s(_vm.$t('auth.login')))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <form @submit.prevent=\"onsubmit\">\n    <va-input\n      v-model=\"username\"\n      type=\"text\"\n      label=\"username\"\n      :error=\"!!usrErrors.length\"\n      :error-messages=\"usrErrors\"\n    />\n\n    <va-input\n      v-model=\"password\"\n      type=\"password\"\n      :label=\"$t('auth.password')\"\n      :error=\"!!passwordErrors.length\"\n      :error-messages=\"passwordErrors\"\n    />\n\n    <div class=\"auth-layout__options d-flex align--center justify--space-between\">\n      <va-checkbox v-model=\"keepLoggedIn\" class=\"mb-0\" :label=\"$t('auth.keep_logged_in')\"/>\n      <router-link class=\"ml-1 link\" :to=\"{name: 'recover-password'}\">{{$t('auth.recover_password')}}</router-link>\n    </div>\n\n    <div class=\"d-flex justify--center mt-3\">\n      <va-button type=\"submit\" class=\"my-0\">{{ $t('auth.login') }}</va-button>\n    </div>\n  </form>\n</template>\n\n<script>\n  import {login} from \"../../../../api/wallet.js\"\n\n  export default {\n    name: 'wallet-login',\n    data () {\n      return {\n        username: '',\n        password: '',\n        keepLoggedIn: false,\n        usrErrors: [],\n        passwordErrors: [],\n      }\n    },\n    created() {\n      if(this.$store.state.wallet.walletId != null){\n        if(this.$store.state.wallet.is_pay){\n          this.$store.commit(\"changeIsPay\",false);\n          this.$router.push({name : \"wallet-pay\"});\n        }\n        else{\n          console.log(\"hello\");\n          this.$router.push({ name: 'wallet-bill' })\n        }\n      }\n    },\n\n    computed: {\n      formReady () {\n        return !this.usrErrors.length && !this.passwordErrors.length;\n      },\n    },\n    methods: {\n      onsubmit () {\n        console.log('go');\n        this.usrErrors = this.username ? [] : ['Username is required'];\n        this.passwordErrors = this.password ? [] : ['Password is required'];\n        if (!this.formReady) {\n          return\n        }\n\n        window.localStorage[\"token\"] = 'wallet';\n\n        let postData = {\n          username: this.username,\n          password: this.password,\n        };\n\n        login(this, postData)\n          .then(res => {\n            console.log(res);\n            if (res.data.status === 500) {\n              console.log('Wrong!');\n              this.showToast(\n                \"Wrong password!\",\n                {\n                  icon: 'fa-warning',\n                  position: 'top-right',\n                  duration: 2500,\n                  fullWidth: false,\n                },\n              );\n              return;\n            }\n\n            let storeData = res.data.data;\n            this.$store.commit(\"walletLogin\", storeData);\n            if (res.status == 200) {\n              console.log('login successful!');\n              console.log(this.$store.state.wallet.is_pay);\n              if(this.$store.state.wallet.is_pay){\n                this.$store.commit(\"changeIsPay\",false);\n                console.log(this.$store.state.wallet.is_pay);\n                this.$router.push({name: \"wallet-pay\"});\n              }\n              else{\n                this.$router.push({ name: 'wallet-bill' })\n              }\n            } else {\n              console.log('Status not 200.');\n            }\n          });\n\n        // Delete in future\n\n        // To be put into the login axios\n\n      },\n\n    },\n  }\n</script>\n\n<style lang=\"scss\">\n  .img {\n    height: 50px;\n    width: 90px;\n  }\n\n  .refresh {\n    width: 35px;\n    align-content: center;\n    text-align: center;\n  }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=634bf81e&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}