(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b0f48560"],{"0414":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("va-card",{attrs:{title:"Product List"}},[r("div",{staticClass:"row align--center"},[r("div",{staticClass:"flex lg5"},[r("va-input",{attrs:{placeholder:"Search by product name",removable:""},on:{input:t.search},model:{value:t.term,callback:function(e){t.term=e},expression:"term"}},[r("va-icon",{attrs:{slot:"prepend",name:"fa fa-search"},slot:"prepend"})],1)],1),r("div",{staticClass:"flex lg2"},[r("va-select",{attrs:{label:t.$t("tables.perPage"),options:t.perPageOptions,noClear:""},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1),r("div",{staticClass:"flex lg2 offset--lg2",on:{click:t.addProduct}},[r("va-button",[t._v(" Add product ")])],1)]),r("va-data-table",{staticClass:"va-table--hoverable",attrs:{fields:t.fields,data:t.filteredData,"per-page":parseInt(t.perPage),clickable:""},on:{"row-clicked":t.showProduct},scopedSlots:t._u([{key:"marker",fn:function(t){return[r("va-icon",{attrs:{name:"fa fa-circle",color:"1"===t.rowData.stsCd?"#ba5a31":"#e59f71",size:"8px"}})]}},{key:"stsCd",fn:function(e){return[r("va-badge",{attrs:{color:"1"===e.rowData.stsCd?"#ba5a31":"#e59f71"}},[t._v(" "+t._s("1"===e.rowData.stsCd?"On Shelf":"Off Shelf")+" ")])]}},{key:"actions",fn:function(e){return[r("va-button",{staticClass:"ma-0",attrs:{flat:"",small:"",color:"gray"},on:{click:function(r){return r.stopPropagation(),t.changeState(e.rowData)}}},[t._v(" "+t._s("0"===e.rowData.stsCd?"On":"Off")+" ")]),r("va-button",{staticClass:"ma-0",attrs:{flat:"",small:"",color:"info"},on:{click:function(r){return r.stopPropagation(),t.editProduct(e.rowData)}}},[t._v(" Edit ")]),r("va-button",{staticClass:"ma-0",attrs:{flat:"",small:"",color:"danger"},on:{click:function(r){return r.stopPropagation(),t.deleteProduct(e.rowData)}}},[t._v(" Remove ")])]}}])})],1),r("va-modal",{attrs:{size:"small",title:" Remove Confirmation",message:" Are you sure to remove this product?",okText:t.$t("modal.confirm"),cancelText:t.$t("modal.cancel")},on:{ok:t.onOk},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}}),r("va-modal",{attrs:{size:"large",title:" Product Detail Information",hideDefaultActions:"true",okText:t.$t("modal.confirm"),cancelText:t.$t("modal.cancel")},model:{value:t.showProductDetail,callback:function(e){t.showProductDetail=e},expression:"showProductDetail"}},[t._t("default",[r("product-detail",{attrs:{product_detail:t.product_detail,usr_id:t.usr_id,role:"mvo"},on:{close:t.close}})])],2),r("va-modal",{attrs:{size:"large",title:" Add New Product",hideDefaultActions:"true",okText:" Add Product ",cancelText:t.$t("modal.cancel")},model:{value:t.showAddProduct,callback:function(e){t.showAddProduct=e},expression:"showAddProduct"}},[t._t("default",[r("add-product",{on:{close:t.closeAddPro,addPro:t.addPro}})])],2),r("va-modal",{attrs:{size:"large",title:" Edit Product",hideDefaultActions:"true",okText:" Confirm ",cancelText:t.$t("modal.cancel")},model:{value:t.showEditProduct,callback:function(e){t.showEditProduct=e},expression:"showEditProduct"}},[t._t("default",[r("edit-product",{attrs:{proId:t.editId},on:{close:t.closeEditPro,editPro:t.editPro}})])],2)],1)},i=[],s=r("7522"),o=r("3332"),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("va-card",{attrs:{title:"Basic information"}},[r("div",{staticClass:"layout gutter--md fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"flex lg6"},[r("va-select",{attrs:{label:"company",searchable:"",textBy:"nameEn","key-by":"manId",options:t.companyOptions},model:{value:t.searchableSelectCompany,callback:function(e){t.searchableSelectCompany=e},expression:"searchableSelectCompany"}})],1),r("div",{staticClass:"flex lg6"},[r("va-select",{attrs:{label:"brand",searchable:"",textBy:"nameEn","key-by":"brdId",options:t.brandOptions},model:{value:t.searchableSelectBrand,callback:function(e){t.searchableSelectBrand=e},expression:"searchableSelectBrand"}})],1)])]),r("div",{staticClass:"layout gutter--md fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"flex lg6"},[r("va-input",{attrs:{type:"text",label:"Product Name",error:!!t.nameErrors.length,"error-messages":t.nameErrors},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),r("div",{staticClass:"flex lg6"},[r("va-input",{attrs:{type:"text",label:"Sku Cd",error:!!t.skuCdErrors.length,"error-messages":t.skuCdErrors},model:{value:t.skuCd,callback:function(e){t.skuCd=e},expression:"skuCd"}})],1)])]),r("div",{staticClass:"layout gutter--md fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"flex lg4"},[r("va-input",{attrs:{type:"text",label:"Product Model",error:!!t.modelErrors.length,"error-messages":t.modelErrors},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}})],1),r("div",{staticClass:"flex lg4"},[r("va-input",{attrs:{type:"text",label:"Retail Price",error:!!t.retailPriceErrors.length,"error-messages":t.retailPriceErrors},model:{value:t.retailPrice,callback:function(e){t.retailPrice=e},expression:"retailPrice"}})],1),r("div",{staticClass:"flex lg4"},[r("va-input",{attrs:{type:"text",label:"Minimum Retail Price",error:!!t.minRetailPriceErrors.length,"error-messages":t.minRetailPriceErrors},model:{value:t.minRetailPrice,callback:function(e){t.minRetailPrice=e},expression:"minRetailPrice"}})],1)])]),r("div",{staticClass:"layout gutter--md fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"flex lg3"},[r("va-input",{attrs:{type:"text",label:"Width",error:!!t.widthErrors.length,"error-messages":t.widthErrors},model:{value:t.width,callback:function(e){t.width=e},expression:"width"}})],1),r("div",{staticClass:"flex lg3"},[r("va-input",{attrs:{type:"text",label:"Height",error:!!t.heightErrors.length,"error-messages":t.heightErrors},model:{value:t.height,callback:function(e){t.height=e},expression:"height"}})],1),r("div",{staticClass:"flex lg3"},[r("va-input",{attrs:{type:"text",label:"Length",error:!!t.lengthErrors.length,"error-messages":t.lengthErrors},model:{value:t.length,callback:function(e){t.length=e},expression:"length"}})],1),r("div",{staticClass:"flex lg3"},[r("va-input",{attrs:{type:"text",label:"Weight",error:!!t.weightErrors.length,"error-messages":t.weightErrors},model:{value:t.weight,callback:function(e){t.weight=e},expression:"weight"}})],1)])]),r("div",{staticClass:"layout gutter--md fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"flex lg12"},[r("va-input",{attrs:{type:"textarea",label:"Description",error:!!t.descriptionErrors.length,"error-messages":t.descriptionErrors},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)])]),r("div",{staticClass:"layout gutter--md fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"flex lg12"},[r("va-file-upload",{attrs:{type:"single",dropzone:""},model:{value:t.imgArr,callback:function(e){t.imgArr=e},expression:"imgArr"}})],1)])])]),r("va-card",{attrs:{title:"Other information"}},[r("div",{staticClass:"layout gutter--md fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"flex lg4"},[r("va-date-picker",{attrs:{label:"Warranty Day",error:!!t.warrantyDayErrors.length,"error-messages":t.warrantyDayErrors},model:{value:t.warrantyDay,callback:function(e){t.warrantyDay=e},expression:"warrantyDay"}})],1),r("div",{staticClass:"flex lg4"},[r("va-input",{attrs:{type:"text",label:"Replenishment Period",error:!!t.replenishmentPeriodErrors.length,"error-messages":t.replenishmentPeriodErrors},model:{value:t.replenishmentPeriod,callback:function(e){t.replenishmentPeriod=e},expression:"replenishmentPeriod"}})],1),r("div",{staticClass:"flex lg4"},[r("va-input",{attrs:{type:"text",label:"Category Name",error:!!t.categoryNameErrors.length,"error-messages":t.categoryNameErrors},model:{value:t.categoryName,callback:function(e){t.categoryName=e},expression:"categoryName"}})],1)])]),r("div",{staticClass:"layout gutter--md fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"flex lg12"},[r("va-input",{attrs:{type:"textarea",label:"Warranty",error:!!t.warrantyErrors.length,"error-messages":t.warrantyErrors},model:{value:t.warranty,callback:function(e){t.warranty=e},expression:"warranty"}})],1)])]),r("va-card",{attrs:{title:"Batch Addition"}},[r("div",{staticClass:"layout gutter--md fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"flex lg6"},[r("va-toggle",{attrs:{label:"Whether batch addition or not?"},model:{value:t.is_selected,callback:function(e){t.is_selected=e},expression:"is_selected"}})],1),r("div",{directives:[{name:"show",rawName:"v-show",value:t.is_selected,expression:"is_selected"}],staticClass:"flex lg6"},[r("va-input",{attrs:{type:"text",label:"Number of batches",error:!!t.batchNumErrors.length,"error-messages":t.batchNumErrors},model:{value:t.batchNum,callback:function(e){t.batchNum=e},expression:"batchNum"}})],1)])])]),r("div",{staticClass:"layout gutter--md fluid"},[r("div",{staticClass:"row"},[r("va-button",{staticClass:"flex lg2 offset--lg7",attrs:{small:"",flat:"",color:"gray"},on:{click:t.cancel}},[t._v(" Cancel ")]),r("va-button",{staticClass:"flex lg2",attrs:{small:""},on:{click:t.addProduct}},[t._v(" Add Product ")])],1)])],1)],1)},n=[],d=r("a34a"),c=r.n(d),u={name:"add-product",data:function(){return{is_selected:!1,batchNum:"",batchNumErrors:[],brdId:"1",manId:"1",name:"",skuCd:"",model:"",description:"",retailPrice:"",minRetailPrice:"",width:"",height:"",length:"",weight:"",warrantyDay:"",replenishmentPeriod:"",warranty:"",categoryName:"",imgArr:[],imgForm:new FormData,imgUrl:"",brdIdErrors:[],manIdErrors:[],nameErrors:[],skuCdErrors:[],modelErrors:[],descriptionErrors:[],retailPriceErrors:[],minRetailPriceErrors:[],widthErrors:[],heightErrors:[],lengthErrors:[],weightErrors:[],warrantyDayErrors:[],replenishmentPeriodErrors:[],warrantyErrors:[],categoryNameErrors:[],searchableSelectCompany:"",searchableSelectBrand:"",companyOptions:[{id:1,description:"Company1"},{id:2,description:"Company2"},{id:3,description:"Company3"}],brandOptions:[]}},props:{companyList:Object,brandList:Object},created:function(){var t=this;Object(s["n"])(this,{userId:this.$store.state.mvo.userId}).then((function(e){console.log(e),t.companyOptions=e.data.data}))},watch:{searchableSelectCompany:function(t,e){var r=this;console.log("new: %s, old: %s",t,e),Object(s["l"])(this,{manId:this.searchableSelectCompany.manId}).then((function(t){console.log(t),r.brandOptions=t.data.data}))},imgArr:{handler:function(t,e){if(console.log(t),0!==t.length){var r=t.length-1,a=t[r].name,i=a.split("."),s=i[i.length-1];if(s=s.toLowerCase(),"png"===s||"jpg"===s||"jpeg"===s){console.log(a);var o=new FormData;o.append("file",t[r]),this.imgForm=o}else console.log(s),this.showToast("file is not an image, please choose an image file",{icon:"fa-exclamation",position:"top-right",duration:2500,fullWidth:!1}),this.imgArr=[]}},deep:!0}},computed:{updateBrandLs:function(){console.log(this.searchableSelectCompany),Object(s["l"])(this,{manId:this.searchableSelectCompany.manId}).then((function(t){return console.log(t),t.data.data}))},formReady:function(){return!(this.brdIdErrors.length||this.manIdErrors.length||this.nameErrors.length||this.skuCdErrors.length||this.modelErrors.length||this.descriptionErrors.length||this.retailPriceErrors.length||this.minRetailPriceErrors.length||this.widthErrors.length||this.heightErrors.length||this.lengthErrors.length||this.weightErrors.length||this.warrantyDayErrors.length||this.replenishmentPeriodErrors.length||this.warrantyErrors.length||this.categoryNameErrors.length)}},methods:{addProduct:function(){var t;return c.a.async((function(e){while(1)switch(e.prev=e.next){case 0:if(this.brdIdErrors=this.brdId?[]:["Brand is required!"],this.manIdErrors=this.manId?[]:["Company is required!"],this.nameErrors=this.name?[]:["Name is required!"],this.skuCdErrors=this.skuCd?[]:["SkuCd is required!"],this.modelErrors=this.model?[]:["Model is required!"],this.descriptionErrors=this.description?[]:["Description is required!"],this.retailPriceErrors=this.retailPrice?[]:["RetailPrice is required!"],this.minRetailPriceErrors=this.minRetailPrice?[]:["Minmum retail price is required!"],this.widthErrors=this.width?[]:["Width is required!"],this.heightErrors=this.height?[]:["Height is required!"],this.lengthErrors=this.length?[]:["Length is required!"],this.weightErrors=this.weight?[]:["Weight is required!"],this.warrantyDayErrors=this.warrantyDay?[]:["Warranty day is required!"],this.replenishmentPeriodErrors=this.replenishmentPeriod?[]:["Replenishment period is required!"],this.warrantyErrors=this.warranty?[]:["Warranty is required!"],this.categoryNameErrors=this.categoryName?[]:["Category Name is required!"],this.formReady){e.next=18;break}return e.abrupt("return");case 18:if(!this.is_selected){e.next=31;break}if(this.batchNumErrors=this.batchNum?[]:["Batch number is required!"],!this.batchNumErrors.length){e.next=22;break}return e.abrupt("return");case 22:t=0;case 23:if(!(t<parseInt(this.batchNum))){e.next=29;break}return e.next=26,c.a.awrap(this.addProItem());case 26:t++,e.next=23;break;case 29:e.next=32;break;case 31:this.addProItem();case 32:case"end":return e.stop()}}),null,this)},addProItem:function(){var t=this,e={brdId:this.searchableSelectBrand.brdId,manId:this.searchableSelectCompany.manId,name:this.name,skuCd:this.skuCd,model:this.model,description:this.description,retailPrice:this.retailPrice,minRetailPrice:this.minRetailPrice,width:this.width,height:this.height,length:this.length,weight:this.weight,warrantyDay:this.warrantyDay,replenishmentPeriod:this.replenishmentPeriod,warranty:this.warranty,categoryName:this.categoryName};Object(s["c"])(this,e).then((function(r){var a=r.data.data.proId;e["proId"]=a,t.$emit("addPro",e),t.imgForm.append("proId",a),Object(s["z"])(t,t.imgForm).then((function(e){console.log("img upload success!"),console.log(e),t.imgUrl=e.data.data.imageUrl}))}))},cancel:function(){this.$emit("close",null)}}},h=u,m=(r("41fc"),r("2877")),g=Object(m["a"])(h,l,n,!1,null,"5f72ff59",null),p=g.exports,f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("va-card",{attrs:{title:"Basic information"}},[r("div",{staticClass:"layout gutter--md fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"flex lg6"},[r("va-input",{attrs:{type:"text",label:"Product Name",error:!!t.nameErrors.length,"error-messages":t.nameErrors},model:{value:t.details.name,callback:function(e){t.$set(t.details,"name",e)},expression:"details.name"}})],1),r("div",{staticClass:"flex lg6"},[r("va-input",{attrs:{type:"text",label:"Sku Cd",error:!!t.skuCdErrors.length,"error-messages":t.skuCdErrors},model:{value:t.details.skuCd,callback:function(e){t.$set(t.details,"skuCd",e)},expression:"details.skuCd"}})],1)])]),r("div",{staticClass:"layout gutter--md fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"flex lg4"},[r("va-input",{attrs:{type:"text",label:"Product Model",error:!!t.modelErrors.length,"error-messages":t.modelErrors},model:{value:t.details.model,callback:function(e){t.$set(t.details,"model",e)},expression:"details.model"}})],1),r("div",{staticClass:"flex lg4"},[r("va-input",{attrs:{type:"text",label:"Retail Price",error:!!t.retailPriceErrors.length,"error-messages":t.retailPriceErrors},model:{value:t.details.retailPrice,callback:function(e){t.$set(t.details,"retailPrice",e)},expression:"details.retailPrice"}})],1),r("div",{staticClass:"flex lg4"},[r("va-input",{attrs:{type:"text",label:"Minimum Retail Price",error:!!t.minRetailPriceErrors.length,"error-messages":t.minRetailPriceErrors},model:{value:t.details.minRetailPrice,callback:function(e){t.$set(t.details,"minRetailPrice",e)},expression:"details.minRetailPrice"}})],1)])]),r("div",{staticClass:"layout gutter--md fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"flex lg3"},[r("va-input",{attrs:{type:"text",label:"Width",error:!!t.widthErrors.length,"error-messages":t.widthErrors},model:{value:t.details.width,callback:function(e){t.$set(t.details,"width",e)},expression:"details.width"}})],1),r("div",{staticClass:"flex lg3"},[r("va-input",{attrs:{type:"text",label:"Height",error:!!t.heightErrors.length,"error-messages":t.heightErrors},model:{value:t.details.height,callback:function(e){t.$set(t.details,"height",e)},expression:"details.height"}})],1),r("div",{staticClass:"flex lg3"},[r("va-input",{attrs:{type:"text",label:"Length",error:!!t.lengthErrors.length,"error-messages":t.lengthErrors},model:{value:t.details.length,callback:function(e){t.$set(t.details,"length",e)},expression:"details.length"}})],1),r("div",{staticClass:"flex lg3"},[r("va-input",{attrs:{type:"text",label:"Weight",error:!!t.weightErrors.length,"error-messages":t.weightErrors},model:{value:t.details.weight,callback:function(e){t.$set(t.details,"weight",e)},expression:"details.weight"}})],1)])]),r("div",{staticClass:"layout gutter--md fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"flex lg12"},[r("va-input",{attrs:{type:"textarea",label:"Description",error:!!t.descriptionErrors.length,"error-messages":t.descriptionErrors},model:{value:t.details.description,callback:function(e){t.$set(t.details,"description",e)},expression:"details.description"}})],1)])]),r("div",{staticClass:"layout gutter--md fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"flex lg12"},[r("va-file-upload",{attrs:{type:"single",dropzone:""},model:{value:t.imgUrl,callback:function(e){t.imgUrl=e},expression:"imgUrl"}})],1)])])]),r("va-card",{attrs:{title:"Other information"}},[r("div",{staticClass:"layout gutter--md fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"flex lg6"},[r("va-date-picker",{attrs:{label:"Warranty Day",error:!!t.warrantyDayErrors.length,"error-messages":t.warrantyDayErrors},model:{value:t.details.warrantyDay,callback:function(e){t.$set(t.details,"warrantyDay",e)},expression:"details.warrantyDay"}})],1),r("div",{staticClass:"flex lg6"},[r("va-input",{attrs:{type:"text",label:"Replenishment Period",error:!!t.replenishmentPeriodErrors.length,"error-messages":t.replenishmentPeriodErrors},model:{value:t.details.replenishmentPeriod,callback:function(e){t.$set(t.details,"replenishmentPeriod",e)},expression:"details.replenishmentPeriod"}})],1)])]),r("div",{staticClass:"layout gutter--md fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"flex lg12"},[r("va-input",{attrs:{type:"textarea",label:"Warranty",error:!!t.warrantyErrors.length,"error-messages":t.warrantyErrors},model:{value:t.details.warranty,callback:function(e){t.$set(t.details,"warranty",e)},expression:"details.warranty"}})],1)])]),r("div",{staticClass:"layout gutter--md fluid"},[r("div",{staticClass:"row"},[r("va-button",{staticClass:"flex lg2 offset--lg7",attrs:{small:"",flat:"",color:"gray"},on:{click:t.cancel}},[t._v(" Cancel ")]),r("va-button",{staticClass:"flex lg2",attrs:{small:""},on:{click:t.editProduct}},[t._v(" Edit Product ")])],1)])])],1)},v=[],b={name:"edit-product",data:function(){return{details:{name:"",skuCd:"",model:"",description:"",retailPrice:"",minRetailPrice:"",width:"",height:"",length:"",weight:"",warrantyDay:"",replenishmentPeriod:"",warranty:""},imgUrl:"",fake_data:{name:"xb",skuCd:"125313",model:"V3",description:"goodgoodgoodgoodgoodgoodgoodgoodgoodgoodgoodgoodgoodgoodgoodgoodgoodgoodgoodgood",retailPrice:"12",minRetailPrice:"10",width:"5",height:"5",length:"5",weight:"5",warrantyDay:"2017-05-02",replenishmentPeriod:"45",warranty:"34135431543454"},nameErrors:[],skuCdErrors:[],modelErrors:[],descriptionErrors:[],retailPriceErrors:[],minRetailPriceErrors:[],widthErrors:[],heightErrors:[],lengthErrors:[],weightErrors:[],warrantyDayErrors:[],replenishmentPeriodErrors:[],warrantyErrors:[]}},props:{companyList:Object,brandList:Object,proId:Number},created:function(){var t=this;console.log(123),this.details=this.fake_data,console.log(this.details),Object(s["q"])(this,{proId:this.proId}).then((function(e){console.log(e.data),t.details=e.data.data[0];var r=t.details;t.details.name=r.NAME,t.details.skuCd=r.sku_cd,t.details.model=r.model,t.details.description=r.description,t.details.retailPrice=r.retail_price,t.details.minRetailPrice=r.min_retail_price,t.details.width=r.width,t.details.height=r.height,t.details.length=r.length,t.details.weight=r.weight,t.details.warrantyDay=r.warranty_day,t.details.replenishmentPeriod=r.replenishment_period,t.details.warranty=r.warranty}))},computed:{formReady:function(){return!(this.nameErrors.length||this.skuCdErrors.length||this.modelErrors.length||this.descriptionErrors.length||this.retailPriceErrors.length||this.minRetailPriceErrors.length||this.widthErrors.length||this.heightErrors.length||this.lengthErrors.length||this.weightErrors.length||this.warrantyDayErrors.length||this.replenishmentPeriodErrors.length||this.warrantyErrors.length)}},watch:{imgUrl:{handler:function(t,e){var r=this;if(0!=t.length){var a=t.length-1,i=t[a].name,s=i.split("."),o=s[s.length-1];if(o=o.toLowerCase(),"png"==o||"jpg"==o||"jpeg"==o){console.log(i);var l=new FormData;l.append("file",t[a]),l.append("strId",this.strId),console.log(uploadImage(this,l)),uploadImage(this,l).then((function(t){console.log(t),200==t.status?r.storeImageSrc=t.data.data:console.log(t.message)}))}else console.log(o),this.showToast("file is not an image, please choose an image file",{icon:"fa-exclamation",position:"top-right",duration:2500,fullWidth:!1}),this.imgUrl=[]}},deep:!0}},methods:{editProduct:function(){if(this.nameErrors=this.details.name?[]:["Name is required!"],this.skuCdErrors=this.details.skuCd?[]:["SkuCd is required!"],this.modelErrors=this.details.model?[]:["Model is required!"],this.descriptionErrors=this.details.description?[]:["Description is required!"],this.retailPriceErrors=this.details.retailPrice?[]:["RetailPrice is required!"],this.minRetailPriceErrors=this.details.minRetailPrice?[]:["Minmum retail price is required!"],this.widthErrors=this.details.width?[]:["Width is required!"],this.heightErrors=this.details.height?[]:["Height is required!"],this.lengthErrors=this.details.length?[]:["Length is required!"],this.weightErrors=this.details.weight?[]:["Weight is required!"],this.warrantyDayErrors=this.details.warrantyDay?[]:["Warranty day is required!"],this.replenishmentPeriodErrors=this.details.replenishmentPeriod?[]:["Replenishment period is required!"],this.warrantyErrors=this.details.warranty?[]:["Warranty is required!"],this.formReady){var t={proId:this.proId,name:this.details.name,skuCd:this.details.skuCd,model:this.details.model,description:this.details.description,retailPrice:this.details.retailPrice,minRetailPrice:this.details.minRetailPrice,width:this.details.width,height:this.details.height,length:this.details.length,weight:this.details.weight,warrantyDay:this.details.warrantyDay,replenishmentPeriod:this.details.replenishmentPeriod,warranty:this.details.warranty};this.$emit("editPro",t),Object(s["k"])(this,t).then((function(t){console.log(t.data)}))}},cancel:function(){this.$emit("close",null)}}},y=b,w=(r("3e45"),Object(m["a"])(y,f,v,!1,null,"33b686fb",null)),C=w.exports,P={name:"product-main",components:{ProductDetail:o["a"],AddProduct:p,EditProduct:C},data:function(){return{usr_id:1,fieldData:[],toggles:{label:"On Shelf",selected:!0},term:null,perPage:"6",perPageOptions:["4","6","10","20"],options:[{label:"On Shelf",value:"on"},{label:"Off Shelf",value:"off"}],showModal:!1,showProductDetail:!1,showAddProduct:!1,showEditProduct:!1,editId:null,deleteRow:null,product_detail:null,fake_data:{data:[{proId:"1",name:"yfy",skuCd:"4139431679614897236",model:"V2",description:"good good good good good good good good",brdName:"Xbox",stsCd:1},{proId:"2",name:"yy",skuCd:"4139431679614897236",model:"V2",description:"good good good good good good good good",brdName:"Xbox",stsCd:1},{proId:"3",name:"yfy",skuCd:"4139431679614897236",model:"V2",description:"good good good good good good good good",brdName:"Xbox",stsCd:1},{proId:"4",name:"yfy",skuCd:"4139431679614897236",model:"V2",description:"good good good good good good good good",brdName:"Xbox",stsCd:0},{proId:"5",name:"chj",skuCd:"4139431679614897236",model:"V2",description:"good good good good good good good good",brdName:"Xbox",stsCd:0},{proId:"6",name:"yfy",skuCd:"4139431679614897236",model:"V2",description:"good good good good good good good good",brdName:"Xbox",stsCd:1},{proId:"7",name:"yfy",skuCd:"4139431679614897236",model:"V2",description:"good good good good good good good good",brdName:"Xbox",stsCd:1},{proId:"8",name:"yfy",skuCd:"4139431679614897236",model:"V2",description:"good good good good good good good good",brdName:"Xbox",stsCd:0}]}}},created:function(){var t=this,e={userId:this.$store.state.mvo.userId};Object(s["s"])(this,e).then((function(e){console.log(e),200===e.status?(console.log(1234),t.fieldData=e.data.data):console.log("Get all product info fails. Status=500.")}))},computed:{fields:function(){return[{name:"__slot:marker",width:"30px",dataClass:"text-center"},{name:"name",title:"Product Name"},{name:"skuCd",title:"skuCd"},{name:"model",title:"model"},{name:"__slot:stsCd",title:this.$t("tables.headings.status")},{name:"description",title:"description"},{name:"__slot:actions",dataClass:"text-right"}]},filteredData:function(){var t=this;return!this.term||this.term.length<1?(console.log(this.fieldData),this.fieldData):this.fieldData.filter((function(e){return e.name.toLowerCase().startsWith(t.term.toLowerCase())}))}},methods:{showProduct:function(t){var e=this;console.log(t),Object(s["q"])(this,{proId:t.proId}).then((function(t){console.log(t),e.product_detail=t.data.data[0],e.showProductDetail=!0,console.log(e.product_detail)}))},deleteProduct:function(t){this.showModal=!0,this.deleteRow=t},onOk:function(){var t=this.deleteRow,e=this.fieldData.findIndex((function(e){return e.proId===t.proId}));this.fieldData.splice(e,1),this.showToast("You have deleted the product "+t.name,{theme:"danger",icon:"fa-heart",position:"top-right",duration:1e3,fullWidth:!1}),this.showModal=!1,Object(s["j"])(this,{proId:t.proId}).then((function(t){console.log(t.data)}))},changeState:function(t){var e=t.proId+"",r="";this.fieldData.forEach((function(t){t.proId===e&&(t.stsCd="1"===t.stsCd?"0":"1",r=t.stsCd)})),this.showToast("Product "+t.name+"'s status changed!",{theme:"info",icon:"fa-heart",position:"top-right",duration:1e3,fullWidth:!1}),Object(s["g"])(this,{proId:e,stsCd:r}).then((function(t){console.log(t.data)}))},addProduct:function(){this.showAddProduct=!0},close:function(t){this.showProductDetail=!1},closeAddPro:function(t){this.showAddProduct=!1},closeEditPro:function(t){this.showEditProduct=!1},addPro:function(t){this.showAddProduct=!1;var e={proId:t.proId,name:t.name,skuCd:t.skuCd,model:t.model,description:t.description,stsCd:"0"};this.fieldData.push(e)},editPro:function(t){this.showEditProduct=!1,this.fieldData.forEach((function(e){e.proId===t.proId+""&&(e.name=t.name,e.skuCd=t.skuCd,e.model=t.model,e.description=t.description)}))},editProduct:function(t){var e=t.proId;this.editId=e,this.showEditProduct=!0}}},E=P,x=(r("9213"),Object(m["a"])(E,a,i,!1,null,"6299c159",null));e["default"]=x.exports},3332:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row",staticStyle:{width:"600px"}},[r("div",{staticClass:"container__image flex xs12 md5"},[r("img",{staticClass:"img",staticStyle:{width:"100%",height:"70%"},attrs:{src:t.img_url,alt:"Product Image"}})]),r("div",{staticClass:"container__text flex xs12 md6 offset--md1"},[r("va-card",{attrs:{stripe:"info"}},[r("template",{staticClass:"py-2",slot:"header"},[r("va-icon",{staticClass:"right-space",attrs:{name:"fa fa-shopping-cart",color:"info"}}),r("h5",{staticClass:"mt-0 mb-0"},[t._v(t._s(t.name))])],1),r("va-badge",{staticClass:"mb-2 py-1 badge",attrs:{color:"dark",outline:""}},[t._v("Sku cd: "+t._s(t.skuCd))]),r("va-badge",{staticClass:"mb-2 py-1 badge",attrs:{color:"dark",outline:""}},[t._v("Model: "+t._s(t.model))]),r("br"),r("span",{staticClass:"small-title"},[t._v("Basic information")]),t._v(" "),r("br"),r("span",{staticClass:"right-space"},[r("label",{staticClass:"labels"},[t._v("RetailPrice: ")]),r("span",{staticClass:"text--highlighted"},[t._v("$"+t._s(t.minRetailPrice))])]),r("label",{staticClass:"labels"}),t._v("["),r("s",[t._v("$"+t._s(t.retailPrice))]),t._v("] "),r("br"),r("label",{staticClass:"labels"},[t._v("Size: ")]),t._v(t._s(t.width)+" × "+t._s(t.height)),r("br"),r("label",{staticClass:"labels"},[t._v("Weight: ")]),t._v(t._s(t.weight)),r("br"),r("hr"),r("span",{staticClass:"small-title"},[t._v("Other information")]),t._v(" "),r("br"),r("label",{staticClass:"labels"},[t._v("ReplenishmentPeriod: ")]),t._v(t._s(t.replenishmentPeriod)),r("br"),r("label",{staticClass:"labels"},[t._v("WarrantyDay: ")]),t._v(t._s(t.warrantyDay)),r("br"),r("label",{staticClass:"labels"},[t._v("Warranty: ")]),t._v(t._s(t.warranty)),r("br"),t.is_show?r("div",[r("hr"),r("label",{staticClass:"labels"},[t._v("Numbers you want: ")]),r("va-input",{staticClass:"input",attrs:{placeholder:"Type a integer...",error:!t.is_number,"error-messages":"Please enter an integer number!"},model:{value:t.num_pro,callback:function(e){t.num_pro=e},expression:"num_pro"}}),r("div",{staticClass:"row"},[r("div",{staticClass:"flex lg5 offset--md2"},[r("va-button",{staticClass:"flex lg7 offset--lg5",attrs:{small:"",flat:"",color:"gray"},on:{click:t.cancel}},[t._v(" Cancel ")])],1),r("div",{staticClass:"flex lg5"},[r("va-button",{attrs:{small:""},on:{click:t.addOrder}},[t._v(" Order me! ")])],1)])],1):t._e()],2)],1)])},i=[],s=r("7522"),o={name:"product-detail",props:{usr_id:Number,role:String,product_detail:Object},data:function(){return{pro_id:this.product_detail.pro_id,img_url:this.product_detail.image_url,name:this.product_detail.NAME,skuCd:this.product_detail.sku_cd,model:this.product_detail.model,width:this.product_detail.width,height:this.product_detail.height,weight:this.product_detail.weight,retailPrice:this.product_detail.retail_price,minRetailPrice:this.product_detail.min_retail_price,warrantyDay:this.product_detail.warranty_day,replenishmentPeriod:this.product_detail.replenishment_period,warranty:this.product_detail.warranty,num_pro:null,is_number:!0}},computed:{is_show:function(){return"bvo"===this.role}},methods:{addOrder:function(){this.is_number=!0,this.num_pro%1!==0||null===this.num_pro?this.is_number=!1:(console.log(123),this.showToast("You have ordered this product! \n You can see it in the order management page.",{theme:"info",icon:"fa-cart-plus",position:"top-right",duration:2500,fullWidth:!1}),this.$emit("close",null),this.num_pro=null,Object(s["e"])(this,{dsrId:this.usr_id,proId:this.pro_id,productAmount:this.num_pro}).then((function(t){console.log(t)})))},cancel:function(){this.$emit("close",null)}}},l=o,n=(r("8760"),r("2877")),d=Object(n["a"])(l,a,i,!1,null,"a4ad18f0",null);e["a"]=d.exports},"3e45":function(t,e,r){"use strict";var a=r("8f87"),i=r.n(a);i.a},"41fc":function(t,e,r){"use strict";var a=r("ad9a"),i=r.n(a);i.a},7522:function(t,e,r){"use strict";r.d(e,"u",(function(){return o})),r.d(e,"m",(function(){return l})),r.d(e,"t",(function(){return n})),r.d(e,"v",(function(){return d})),r.d(e,"d",(function(){return c})),r.d(e,"q",(function(){return u})),r.d(e,"e",(function(){return h})),r.d(e,"r",(function(){return m})),r.d(e,"s",(function(){return g})),r.d(e,"j",(function(){return p})),r.d(e,"g",(function(){return f})),r.d(e,"c",(function(){return v})),r.d(e,"k",(function(){return b})),r.d(e,"o",(function(){return y})),r.d(e,"w",(function(){return w})),r.d(e,"f",(function(){return C})),r.d(e,"i",(function(){return P})),r.d(e,"h",(function(){return E})),r.d(e,"a",(function(){return x})),r.d(e,"b",(function(){return k})),r.d(e,"n",(function(){return _})),r.d(e,"l",(function(){return I})),r.d(e,"z",(function(){return D})),r.d(e,"y",(function(){return $})),r.d(e,"x",(function(){return R})),r.d(e,"p",(function(){return N}));var a="39.106.57.246",i="4396",s="http://"+a+":"+i;function o(t,e){return console.log(t.$http.post(s+"/user/login",e)),t.$http.post(s+"/user/login",e)}function l(t){return t.$http.get(s+"/user/code",{responseType:"arraybuffer"})}function n(t,e){return t.tokenGet.post(s+"/oauth/token",e)}function d(t,e){return t.$http.post(s+"/user/register",e)}function c(t,e){return t.$http.post(s+"/pro/bvo/wishlist/add",e)}function u(t,e){return t.$http.get(s+"/pro/mvo/product/detail/get",{params:e})}function h(t,e){return t.$http.post(s+"/order/product/buy",e)}function m(t,e){return t.$http.get(s+"/pro/mvo/product/get",{params:e})}function g(t,e){return t.$http.get(s+"/pro/mvo/product/all",{params:e})}function p(t,e){return t.$http.post(s+"/pro/mvo/product/delete",e)}function f(t,e){return t.$http.post(s+"/pro/mvo/product/status/update",e)}function v(t,e){return t.$http.post(s+"/pro/mvo/product/add",e)}function b(t,e){return t.$http.post(s+"/pro/mvo/product/detail/update",e)}function y(t,e){return t.$http.get(s+"/order/info/get",{params:e})}function w(t,e){return t.$http.post(s+"/order/ship",e)}function C(t,e){return t.$http.post(s+"/order/ship/cancel",e)}function P(t,e){return t.$http.post(s+"/info/company/delete",e)}function E(t,e){return t.$http.post(s+"/info/brand/delete",e)}function x(t,e){return t.$http.post(s+"/info/brand/add",e)}function k(t,e){return t.$http.post(s+"/info/company/add",e)}function _(t,e){return console.log(t.$http.get(s+"/info/company/get",{params:e})),t.$http.get(s+"/info/company/get",{params:e})}function I(t,e){return t.$http.get(s+"/info/brand/get",{params:e})}function D(t,e){return t.imageUpload.defaults.headers.Authorization="Bearer "+localStorage.token,t.imageUpload.post(s+"/pro/mvo/product/image/upload",e)}function $(t,e){return t.imageUpload.defaults.headers.Authorization="Bearer "+localStorage.token,t.imageUpload.post(s+"/info/company/image/upload",e)}function R(t,e){return t.imageUpload.defaults.headers.Authorization="Bearer "+localStorage.token,t.imageUpload.post(s+"/info/brand/image/upload",e)}function N(t,e){return t.$http.get(s+"/info/brand/getAllByUserId",{params:e})}},8760:function(t,e,r){"use strict";var a=r("e817"),i=r.n(a);i.a},"8f87":function(t,e,r){},9213:function(t,e,r){"use strict";var a=r("ba69"),i=r.n(a);i.a},ad9a:function(t,e,r){},ba69:function(t,e,r){},e817:function(t,e,r){}}]);
//# sourceMappingURL=chunk-b0f48560.e063ab1f.js.map