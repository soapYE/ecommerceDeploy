(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c021780"],{"20f8":function(t,e,s){},"3a8a":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"store_list"},[s("va-card",{attrs:{stripe:"info"}},[s("template",{slot:"header"},[s("va-icon",{attrs:{name:"fa fa-suitcase mr-3",color:"success"}}),s("h4",{staticClass:"mt-0 mb-0"},[t._v(" stores ")]),s("va-button",{staticStyle:{"margin-left":"85%","margin-top":"2%"},attrs:{small:"",outline:""},on:{click:t.addNewStore}},[t._v("Add Store")])],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isloading,expression:"isloading"}],staticClass:"loading"},[s("hollow-dots-spinner",{attrs:{"animation-duration":1e3,size:80,color:"skyblue"}})],1),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isloading,expression:"!isloading"}],staticClass:"stores"},t._l(t.stores.slice((t.activePage-1)*t.pageSize,t.activePage*t.pageSize),(function(e){return s("div",{staticClass:"store_container"},[s("cube-item",{attrs:{img_url:e.imageUrl,img_title:e.storeName,img_intro:t.generateIntro(e.platformType),type:"store",cube_id:e.strId,"whole-data":e},on:{deletestore:t.deleteStore}})],1)})),0),s("div",{staticClass:"pagination"},[s("va-pagination",{attrs:{pages:t.totalPage,"visible-pages":5,"boundary-links":!1},model:{value:t.activePage,callback:function(e){t.activePage=e},expression:"activePage"}})],1)],2)],1),s("va-modal",{attrs:{size:"medium",title:"add new store",okText:"add",cancelText:t.$t("modal.cancel")},on:{ok:t.confirmAddNewStore},model:{value:t.addNewShowed,callback:function(e){t.addNewShowed=e},expression:"addNewShowed"}},[t._t("default",[s("div",[s("va-input",{attrs:{label:"store name"},model:{value:t.newStoreName,callback:function(e){t.newStoreName=e},expression:"newStoreName"}}),s("va-select",{attrs:{label:"platform type",textBy:"description",options:t.platforms},model:{value:t.newStorePlatform,callback:function(e){t.newStorePlatform=e},expression:"newStorePlatform"}})],1)])],2)],1)},a=[],i=s("7a71"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[t.isRemoved?t._e():s("div",{class:{hover:t.ishover},staticStyle:{display:"inline-block",width:"250px",height:"200px"},on:{click:t.goToDetail,mouseover:t.mouseover,mouseout:t.mouseout}},[t.isRemovable?s("div",{directives:[{name:"show",rawName:"v-show",value:t.ishover,expression:"ishover"}],staticStyle:{position:"absolute","margin-left":"230px","margin-top":"0","z-index":"3"},on:{click:function(e){return e.stopPropagation(),t.remove(e)}}},[s("va-icon",{staticStyle:{color:"grey"},attrs:{name:"fa fa-minus-circle fa-1x"}})],1):t._e(),s("va-card",{attrs:{image:t.imageUrl,title:t.title}},[s("template",{slot:"header"},[s("h5",{staticClass:"mt-0 mb-0",staticStyle:{color:"#0e4ac4"}},[t._v(t._s(t.title))])]),t._v(" "+t._s(t.intro)+" ")],2)],1),s("va-modal",{attrs:{size:"small",title:" Remove Confirmation",message:t.remindMessage,okText:t.$t("modal.confirm"),cancelText:t.$t("modal.cancel")},on:{ok:t.confirmRemove},model:{value:t.showConfirm,callback:function(e){t.showConfirm=e},expression:"showConfirm"}})],1)},r=[],l=s("8fb3"),c=s("5b70"),d=(s("bc3a"),{name:"myCube",components:{VaIcon:c["a"],VaCard:l["a"]},props:{imageUrl:String,title:String,intro:String,type:String,id:Number,wholeData:Object},data:function(){return{showConfirm:!1,isRemoved:!1,remindMessage:"are you sure to remove "+this.title+"(id: "+this.id+")?",ishover:!1}},computed:{isRemovable:function(){return"brand"==this.type}},methods:{goToDetail:function(){switch(this.type){case"company":this.$store.commit("changeCompanyID",this.id),console.log(this.$store.state.yfy.companyID);break;case"brand":this.$store.commit("changeBrandID",this.id),console.log(this.$store.state.yfy.brandID);break;case"store":this.$store.commit("changeStoreID",this.id),this.$store.commit("saveStoreInfo",this.wholeData),console.log(this.$store.state.yfy.storeID),this.$router.push("BVO_store");break;default:console.log("有问题啊兄弟")}},remove:function(){this.showConfirm=!0},confirmRemove:function(){},mouseover:function(){this.ishover=!0},mouseout:function(){this.ishover=!1}}}),m=d,h=(s("c5aa"),s("2877")),u=Object(h["a"])(m,n,r,!1,null,"78153d96",null),f=u.exports,v=s("0932"),p=s("52c7"),g=s("88a9"),b=s("860f"),w=s("2b70"),S=s("7a7b"),_={name:"BVOMain",components:{CubeItem:S["a"],HollowDotsSpinner:w["a"],VaModal:b["a"],VaCard:l["a"],VaPagination:p["a"],VaButton:v["a"],MyCube:f,VaInput:i["a"]},created:function(){var t=this;console.log(this.$store.state.bvo.bvo_usrId),Object(g["h"])(this,this.$store.state.bvo.bvo_usrId).then((function(e){t.bvo_name=e.data.data.name,t.edit_bvo_name=t.bvo_name,t.dsrId=parseInt(e.data.data.dsrId),t.$store.commit("changeDsrId",t.dsrId),console.log(e),Object(g["i"])(t,t.dsrId).then((function(e){if(200==e.status){t.stores=e.data.data;for(var s=0;s<t.stores.length;s++)t.stores[s].strId=parseInt(t.stores[s].strId),t.stores[s].platformType=parseInt(t.stores[s].platformType),t.stores[s].storeStsCd=parseInt(t.stores[s].storeStsCd)}else console.log(e.message)}))}))},data:function(){return{bvo_name:"",edit_bvo_name:"",dsrId:0,stores:[],isediting:!1,activePage:1,pageSize:5,platforms:[{id:1,description:"Amazon"},{id:2,description:"ebay"}],newStoreName:"",newStorePlatform:0,addNewShowed:!1,isloading:!1}},computed:{nameIsNull:function(){return""==this.edit_bvo_name},totalPage:function(){var t=Math.ceil(this.stores.length/this.pageSize);return t}},methods:{deleteStore:function(t){for(var e=[],s=0;s<this.stores.length;s++)this.stores[s].strId!=t.strId&&(e=e.concat(this.stores[s]));this.stores=e,console.log(this.stores.length)},generateIntro:function(t){switch(t){case 1:return"This is an Amazon store";case 2:return"This is an ebay store";default:return"This is a store"}},edit:function(){this.isediting=!0},confirmEdit:function(){var t=this;""!=this.edit_bvo_name?Object(g["e"])(this,{dsrId:this.dsrId,name:this.edit_bvo_name}).then((function(e){200==e.status?t.bvo_name=t.edit_bvo_name:console.log(e.message),t.isediting=!1})):this.showToast("Your input is invalid, please check them",{icon:"fa-exclamation",position:"top-right",duration:2500,fullWidth:!1})},cancelEdit:function(){this.isediting=!1,this.edit_bvo_name=this.bvo_name},addNewStore:function(){this.addNewShowed=!0,this.newStoreName="",this.newStorePlatform=0},confirmAddNewStore:function(){var t=this;""==this.newStoreName||0==this.newStorePlatform?this.showToast("Your input is invalid, please check them",{icon:"fa-exclamation",position:"top-right",duration:2500,fullWidth:!1}):(this.addNewShowed=!1,this.isloading=!0,Object(g["a"])(this,{dsrId:this.dsrId,platformType:this.newStorePlatform.id,storeName:this.newStoreName}).then((function(e){console.log(e),200==e.status?Object(g["i"])(t,t.dsrId).then((function(e){if(200==e.status){t.stores=e.data.data;for(var s=0;s<t.stores.length;s++)t.stores[s].strId=parseInt(t.stores[s].strId),t.stores[s].platformType=parseInt(t.stores[s].platformType),t.stores[s].storeStsCd=parseInt(t.stores[s].storeStsCd);t.isloading=!1}else console.log(e.message)})):console.log(e.message)})))}}},I=_,y=(s("7ddd"),Object(h["a"])(I,o,a,!1,null,"35696f0a",null));e["default"]=y.exports},6701:function(t,e,s){},"7ddd":function(t,e,s){"use strict";var o=s("6701"),a=s.n(o);a.a},c5aa:function(t,e,s){"use strict";var o=s("20f8"),a=s.n(o);a.a}}]);
//# sourceMappingURL=chunk-3c021780.480c5e10.js.map